{% extends 'base.html.twig' %}
{% block title %}Tableau des Admins{% endblock %}

{% block content %}

    <div >
        <div class="card">
            <div class="card-header card-header-warning">
                <h4 class="card-title">Poste</h4>
                {#<a class="btn btn-info pull-right" href="{{ path('poste_new') }}"><i class="material-icons">person_add</i> <span class="icon-name">Nouveau Poste</span></a>
                </span>#}
                <!--<button class="btn btn-danger1" onClick="test()" style="margin-top: 20px;" >Filtrage <i class="material-icons">filter_list</i></button>-->
            </div>
            <div class="card-body table-responsive">
                <table class="table table-hover" class="table table-bordered table-hover">

                    <tbody>
                    <tr>
                        <th>Nom</th>
                        <th>liste des droits d'acce </th>
                        <th>actions sur la liste de droits</th>
                    </tr>
                    {% if aDroit %}
                        <tr>
                            <td>{{ poste.nom }}</td>
                            <td>
                                {% for l in listComp %}
                                    <a href="{{ path('showListe',{'idp':poste.id , 'idd':l.droitAccee.id , 'idt':l.typeTab.id }) }}">{{ l.droitAccee.titre  }}</a>   <br>
                                {% endfor %}
                            </td>
                            <td>
                                {% for l in listComp %}
                                    <a class="demo-google-material-icon" href="{{ path('removeListe',{'id':l.id}) }}" onclick="return confirm('Etes-vous sur de vouloir supprimer cet article !')">
                                        <i style="cursor: pointer;" class="material-icons">delete</i>
                                    </a>
                                    <a class="demo-google-material-icon" href="{{ path('editListe',{'id':l.id}) }}">
                                        <i style="cursor: pointer;" class="material-icons">edit</i>
                                    </a><br>
                                    {#<a style="color: darkred"  href="{{ path('removeListe',{'id':l.id}) }}" >supprimer </a>
                                    <a style="color: darkred"  href="{{ path('editListe',{'id':l.id}) }}" >modifier </a><br>#}
                                {% endfor %}
                            </td>

                        </tr>
                    {% else %}
                        <h3>vous n'avez pas des droits </h3>
                    {% endif %}
                    </tbody>
                </table>
                <a class="demo-google-material-icon" href="{{ path('poste_index',{'id':id}) }}">
                    <i style="cursor: pointer;" class="material-icons"> keyboard_backspace</i>
                </a>


                {# <a href="{{ path('poste_edit', {'id': poste.id}) }}">edit</a> #}

                {{ include('poste/_delete_form.html.twig') }}
            </div>
        </div>
    </div>
{% endblock %}







